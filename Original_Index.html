<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santa's Secret - Christmas Shop in Bungendore</title>
   <link rel="icon" type="image/png" href="/boxicon.ico">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
        }

        .heading-font {
            font-family: 'Playfair Display', serif;
        }

        /* Enhanced Snow Canvas */
        .snow-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            pointer-events: none;
            z-index: 1000;
            clip-path: polygon(0 0, 100% 0, 100% 100vh, 0 100vh);
        }

        .hero-image {
            background-image: url(/banner_SS.jpg);
            background-size: cover;
            background-position: center;
        }

        .nav-link {
            position: relative;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -2px;
            left: 0;
            background-color: #ebdddd;
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .btn-primary {
            background: linear-gradient(135deg, #e53e3e, #c53030);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #c53030, #9b2c2c);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }

        @keyframes bounce-gentle {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .animate-float {
            animation: float 3s ease-in-out infinite;
        }

        .animate-sparkle {
            animation: sparkle 2s linear infinite;
        }

        .animate-bounce-gentle {
            animation: bounce-gentle 2s infinite;
        }
    </style>
</head>
<body style="background-color: white; color: black;">
    <!-- Enhanced Snow Canvas -->
    <canvas id="snowCanvas" class="snow-canvas"></canvas>

    <!-- Snow Controls (Hidden but required for functionality) -->
    <div style="display: none;">
        <button id="snowToggle"></button>
        <button id="snowToggleMobile"></button>
        <div id="colorPicker"></div>
        <div id="colorPickerMobile"></div>
        <div id="colorMenu">
            <div class="color-option"><i class="fas fa-check"></i></div>
            <div class="color-option"><i class="fas fa-check"></i></div>
            <div class="color-option"><i class="fas fa-check"></i></div>
            <div class="color-option"><i class="fas fa-check"></i></div>
            <div class="color-option"><i class="fas fa-check"></i></div>
        </div>
        <div id="colorMenuMobile">
            <div class="color-option"><i class="fas fa-check"></i></div>
            <div class="color-option"><i class="fas fa-check"></i></div>
            <div class="color-option"><i class="fas fa-check"></i></div>
            <div class="color-option"><i class="fas fa-check"></i></div>
            <div class="color-option"><i class="fas fa-check"></i></div>
        </div>
        <span id="snowToggleText"></span>
        <span id="snowToggleTextMobile"></span>
        <span id="currentColorDot"></span>
        <span id="currentColorDotMobile"></span>
        <span id="currentColorText"></span>
        <span id="currentColorTextMobile"></span>
    </div>

    <!-- Navigation -->
    <nav class="bg-white shadow-md sticky top-0 z-50 relative">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <a href="#" class="text-2xl font-bold heading-font text-red-600">Santa's Secret</a>
                </div>

                <div class="hidden md:flex space-x-8">
                    <a href="#home" class="nav-link">Home</a>
                    <a href="#about" class="nav-link">About</a>
                    <a href="#countdown" class="nav-link">Countdown</a>
                    <a href="#gallery" class="nav-link">Gallery</a>
                    <a href="#visitus" class="nav-link">Visit Us</a>
                </div>

                <div class="flex items-center space-x-4">
                    <button class="md:hidden focus:outline-none">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>

            <!-- Mobile menu -->
            <div id="mobileMenu" class="hidden md:hidden mt-4 pb-4">
                <div class="flex flex-col space-y-4">
                    <a href="#home" class="py-2">Home</a>
                    <a href="#about" class="py-2">About</a>
                    <a href="#countdown" class="py-2">Countdown</a>
                    <a href="#gallery" class="py-2">Gallery</a>
                    <a href="#visitus" class="py-2">Visit Us</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="relative overflow-hidden min-h-screen flex items-center justify-center hero-image">
        <div class="absolute inset-0 bg-black bg-opacity-40 z-10"></div>
        <div class="container mx-auto px-4 z-20 text-center text-white">
            <h1 class="text-4xl md:text-6xl font-bold mb-6 heading-font">Discover the Secrets to an Unconventional Christmas right in the heart of Bungendore.</h1>
            <p class="text-xl md:text-2xl mb-8 max-w-2xl mx-auto">Bespoke Christmas decorations and gifts to make your holidays special ‚ù§Ô∏èÔ∏è</p>
        </div>
    </section>

    <section class="bg-gray-100 py-16 px-6">
        <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-10 items-center">

          <!-- Text Content -->
          <div>
            <h2 class="text-5xl font-extrabold heading-font text-[#1a1a2e] mb-6">
              The Art of Bespoke Decorations
            </h2>
            <p class="text-lg mb-6 text-gray-700">
              Transform your home with one-of-a-kind Christmas and Easter decorations designed to make this holiday season truly unforgettable.
              At Santa's Secret, we create and sell handcrafted ornaments, custom Christmas trees, and decor pieces that blend tradition with a touch of modern flair.
            </p>

            <h3 class="font-semibold text-lg mb-2">Why Choose Santa's Secret?</h3>
            <ul class="list-disc ml-5 space-y-2 text-gray-800">
              <li><strong>Artisan Craftsmanship:</strong> Every piece is made with care, using a mix of recycled and new materials for an eco-friendly, beautiful result.</li>
              <li><strong>Custom Creations:</strong> From bespoke trees to personalized ornaments, we bring your holiday vision to life.</li>
              <li><strong>Shop Our Collection:</strong> Browse our exclusive designs online or visit our Bungendore studio to find the perfect decorations for your festive season.</li>
            </ul>

            <p class="mt-6 font-semibold text-gray-800">Ready to bring some magic into your home?</p>
            <p class="text-gray-700">Step into Santa's Secret and make this Christmas unforgettable with decor as unique as you are.</p>
          </div>

          <!-- Image Layout -->
          <div class="relative w-full h-[400px]">
            <div class="absolute top-0 left-0 w-48 h-48 rounded-full overflow-hidden shadow-lg border-4 border-white">
              <img src="/web_number1.jpg" alt="Tree 1" class="w-full h-full object-cover"/>
            </div>
            <div class="absolute top-8 right-0 w-64 h-64 rounded-full overflow-hidden shadow-lg border-4 border-white">
              <img src="/web_number2.jpg" alt="Tree 2" class="w-full h-full object-cover"/>
            </div>
            <div class="absolute bottom-0 left-24 w-64 h-64 rounded-full overflow-hidden shadow-lg border-4 border-white">
              <img src="/web_number3.jpg" alt="Baubles" class="w-full h-full object-cover"/>
            </div>
          </div>

        </div>
      </section>

      <section class="bg-[#e74c64] text-white py-16 px-4">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-center gap-10">

          <!-- Image -->
          <div class="flex-shrink-0">
            <img src="/meetKim.png" alt="Meet Kim" class="w-69 h-69 object-cover square-full border-4 border-white shadow-lg"/>
          </div>

          <!-- Text -->
           <section id="about" class="py-16 px-6"> 
          <div class="max-w-2xl text-left">
            <p class="text-2xl md:text-3xl font-semibold leading-relaxed mb-6">
              "At Santa's Secret, we believe the holidays should be as unique as you are.
              From upcycled trees to oversized, handcrafted ornaments, our collection transforms
              tradition into something extraordinary.
            </p>
            <p class="text-2xl md:text-3xl font-semibold leading-relaxed mb-6">
              Step into a world where Christmas is reimagined‚Äîbold, beautiful, and unmistakably yours."
            </p>
            <p class="text-m italic">Kim, the Artisan Behind the Magic.</p>
          </div>

        </div>
      </section>

    <!-- Christmas Countdown -->
    <section id="countdown" class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h1 class="text-4xl md:text-6xl font-bold mb-4 heading-font">Christmas Countdown</h1>
                <p class="text-xl">Count down the days until Christmas!</p>
            </div>

            <div class="bg-white bg-opacity-20 rounded-xl p-8 mb-12 shadow-lg">
                <div class="flex flex-col md:flex-row justify-between items-center mb-8">
                    <div class="mb-4 md:mb-0">
                        <h2 class="text-2xl font-bold mb-2 heading-font">Set Your Countdown</h2>
                        <p class="text-sm opacity-80">Choose when your countdown should begin</p>
                    </div>

                    <div class="flex items-center">
                        <input type="date" id="startDate" class="bg-white bg-opacity-20 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500">
                        <button id="resetBtn" class="ml-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg transition">
                            <i class="fas fa-undo"></i>
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 text-center">
                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <div class="text-4xl font-bold mb-2" id="days">00</div>
                        <div class="text-sm uppercase tracking-wider">Days</div>
                    </div>

                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <div class="text-4xl font-bold mb-2" id="hours">00</div>
                        <div class="text-sm uppercase tracking-wider">Hours</div>
                    </div>

                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <div class="text-4xl font-bold mb-2" id="minutes">00</div>
                        <div class="text-sm uppercase tracking-wider">Minutes</div>
                    </div>

                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <div class="text-4xl font-bold mb-2" id="seconds">00</div>
                        <div class="text-sm uppercase tracking-wider">Seconds</div>
                    </div>
                </div>

                <div class="mt-8 text-center">
                    <div id="message" class="text-xl font-bold heading-font"></div>
                </div>
            </div>

            <div class="bg-white bg-opacity-20 rounded-xl p-8 shadow-lg">
                <h2 class="text-2xl font-bold mb-4 heading-font text-center">Christmas Fun Facts</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-white bg-opacity-10 rounded-lg p-4">
                        <h3 class="font-bold mb-2 flex items-center">
                            <i class="fas fa-candy-cane mr-2 text-red-400"></i> Candy Canes
                        </h3>
                        <p class="text-sm">The average candy cane is about 13 cm tall. Aussies love a sweet treat‚Äîespecially at Christmas! While exact numbers aren't tracked locally, candy canes are one of the top-selling seasonal lollies across Australia every December.</p>
                    </div>

                    <div class="bg-white bg-opacity-10 rounded-lg p-4">
                        <h3 class="font-bold mb-2 flex items-center">
                            <i class="fas fa-tree mr-2 text-green-400"></i> Christmas Trees
                        </h3>
                        <p class="text-sm">It takes around 7‚Äì10 years for a Christmas tree to reach full height (about 2 metres). In Australia, over 1.4 million real Christmas trees are sold each year, with demand steadily rising thanks to a shift toward more sustainable, natural options.</p>
                    </div>

                    <div class="bg-white bg-opacity-10 rounded-lg p-4">
                        <h3 class="font-bold mb-2 flex items-center">
                            <i class="fas fa-sleigh mr-2 text-blue-400"></i> Santa's Aussie Journey
                        </h3>
                        <p class="text-sm">To reach all the children across Australia's 7.7 million km¬≤, Santa would have to fly faster than a jet‚Äîzipping between bushland, beaches, cities, and outback towns. That's a whole lot of magic and maybe even a stop for pavlova!</p>
                    </div>

                    <div class="bg-white bg-opacity-10 rounded-lg p-4">
                        <h3 class="font-bold mb-2 flex items-center">
                            <i class="fas fa-gift mr-2 text-yellow-400"></i> Gift Giving
                        </h3>
                        <p class="text-sm">The tradition of gift giving comes from the story of the Three Wise Men‚Äîbut in Australia, it's also about backyard cricket, family BBQs, and secret Santa swaps under the gum tree.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery -->
    <section id="gallery" class="py-20 px-6 bg-white">
        <div class="max-w-7xl mx-auto">
          <h2 class="text-4xl font-extrabold heading-font mb-8 text-center text-gray-900">
            Our Christmas Gallery
          </h2>

          <div class="columns-1 sm:columns-2 md:columns-3 gap-4 space-y-4">
            <img src="/photo1.jpg" alt="Gallery Image 1" class="w-full rounded-lg shadow-lg" />
            <img src="/photo2.jpg" alt="Gallery Image 2" class="w-full rounded-lg shadow-lg" />
            <img src="/photo3.jpg" alt="Gallery Image 3" class="w-full rounded-lg shadow-lg" />
            <img src="/photo4.jpg" alt="Gallery Image 4" class="w-full rounded-lg shadow-lg" />

            <img src="/photo5.jpg" alt="Gallery Image 5" class="w-full rounded-lg shadow-lg" />
            <img src="/photo6.jpg" alt="Gallery Image 6" class="w-full rounded-lg shadow-lg" />
            <img src="/photo7.jpg" alt="Gallery Image 7" class="w-full rounded-lg shadow-lg" />
            <img src="/photo8.jpg" alt="Gallery Image 8" class="w-full rounded-lg shadow-lg" />

            <img src="/photo9.jpg" alt="Gallery Image 9" class="w-full rounded-lg shadow-lg" />
            <img src="/photo10.jpg" alt="Gallery Image 10" class="w-full rounded-lg shadow-lg" />
            <img src="/photo11.jpg" alt="Gallery Image 11" class="w-full rounded-lg shadow-lg" />
            <img src="/photo12.jpg" alt="Gallery Image 12" class="w-full rounded-lg shadow-lg" />
          </div>
        </div>
      </section>

    <!-- Contact Section -->
    <section id="visitus" class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold mb-12 text-center heading-font">Visit Our Store</h2>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-xl font-bold mb-4">Store Information</h3>
                    <div class="space-y-4">
                        <div>
                            <p class="font-semibold"><i class="fas fa-map-marker-alt text-red-600 mr-2"></i>Address</p>
                            <p class="ml-6">24b Malbon Street</p>
                            <p class="ml-6">Bungendore</p>
                            <p class="ml-6">New South Wales 2621</p>
                            <p class="ml-6 text-sm text-gray-600 italic">(The old Lolly Shop)</p>
                        </div>

                        <div>
                            <p class="font-semibold"><i class="fas fa-clock text-red-600 mr-2"></i>Opening Hours</p>
                            <div class="ml-6 space-y-1">
                                <p><span class="font-medium">Friday:</span> 10 am‚Äì2 pm</p>
                                <p><span class="font-medium">Saturday:</span> 10 am‚Äì3:30 pm</p>
                                <p><span class="font-medium">Sunday:</span> 10 am‚Äì2 pm</p>
                                <div class="mt-3">
                                    <a href="https://www.google.com/search?q=santas+secret+bungendore" 
                                       target="_blank" 
                                       class="inline-flex items-center text-sm text-blue-600 hover:text-blue-800 underline">
                                        <i class="fas fa-external-link-alt mr-1"></i>
                                        Check current hours on Google
                                    </a>
                                </div>
                            </div>
                        </div>

                        <div>
                            <p class="font-semibold"><i class="fas fa-phone text-red-600 mr-2"></i>Phone</p>
                            <p class="ml-6">0480 784 317</p>
                        </div>

                        <div>
                            <p class="font-semibold"><i class="fas fa-envelope text-red-600 mr-2"></i>Email</p>
                            <p class="ml-6">info@santasecret.com.au</p>
                        </div>
                    </div>

                    <div class="mt-6">
                        <h4 class="font-bold mb-3">Special Features</h4>
                        <ul class="space-y-2">
                            <li><i class="fas fa-check text-green-600 mr-2"></i>Custom Christmas decorations</li>
                            <li><i class="fas fa-check text-green-600 mr-2"></i>Handcrafted ornaments</li>
                            <li><i class="fas fa-check text-green-600 mr-2"></i>Eco-friendly materials</li>
                            <li><i class="fas fa-check text-green-600 mr-2"></i>Bespoke design service</li>
                        </ul>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-xl font-bold mb-4">Find Us</h3>
                    <div class="relative w-full h-96 rounded-lg overflow-hidden">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3256.8947298471834!2d149.42688767652457!3d-35.25316317264089!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6b164d89c84b7e9b%3A0x504f0b535df2c10!2s24b%20Malbon%20St%2C%20Bungendore%20NSW%202621%2C%20Australia!5e0!3m2!1sen!2sus!4v1703123456789!5m2!1sen!2sus"
                            width="100%" 
                            height="100%" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade"
                            title="Santa's Secret Location - 24b Malbon Street, Bungendore NSW">
                        </iframe>
                    </div>
                    <div class="mt-4 text-center">
                        <a href="https://www.google.com/maps/dir//24b+Malbon+St,+Bungendore+NSW+2621" 
                           target="_blank" 
                           class="inline-flex items-center px-6 py-3 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition-colors">
                            <i class="fas fa-directions mr-2"></i>
                            Get Directions
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4 heading-font">Santa's Secret</h3>
                    <p class="text-gray-400">Creating magical Christmas memories in Bungendore since 2024.</p>
                </div>

                <div>
                    <h4 class="font-bold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="#home" class="text-gray-400 hover:text-white">Home</a></li>
                        <li><a href="#about" class="text-gray-400 hover:text-white">About</a></li>
                        <li><a href="#gallery" class="text-gray-400 hover:text-white">Gallery</a></li>
                        <li><a href="#visitus" class="text-gray-400 hover:text-white">Visit Us</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-bold mb-4">Follow Us</h4>
                    <div class="flex space-x-4">
                        <a href="https://www.facebook.com/SantasSecretBungendore" class="fab fa-facebook-f"></i>
                        </a>

                    </div>
                </div>
            </div>

            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2024 Santa's Secret. All rights reserved.</p>
                <p class="mt-2">
    <a href="https://1973.studio" target="_blank" class="text-gray-400 hover:text-white transition-colors text-sm">
        Website Made in 1973
    </a>
</p>
            </div>
        </div>
    </footer>
<script>
  // Simplified Mobile-Compatible Snow System
  class SimpleSnowSystem {
    constructor() {
      this.canvas = document.getElementById('snowCanvas');
      if (!this.canvas) {
        console.error('Snow canvas not found');
        return;
      }
      
      this.ctx = this.canvas.getContext('2d');
      this.snowflakes = [];
      this.isSnowing = true; // Always start with snow on
      this.animationId = null;
      
      // Mobile detection
      this.isMobile = window.innerWidth <= 768 || /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      this.maxSnowflakes = this.isMobile ? 25 : 50; // Reduced for better mobile performance
      
      console.log('Snow system initializing - Mobile:', this.isMobile);
      this.init();
    }

    init() {
      this.resizeCanvas();
      this.startSnow();
      
      window.addEventListener('resize', () => {
        this.resizeCanvas();
      });
      
      // Simplified orientation change handling
      window.addEventListener('orientationchange', () => {
        setTimeout(() => {
          this.resizeCanvas();
          this.restartSnow();
        }, 500);
      });
    }

    resizeCanvas() {
      // Simple canvas sizing
      this.canvas.width = window.innerWidth;
      this.canvas.height = window.innerHeight;
      this.canvas.style.width = window.innerWidth + 'px';
      this.canvas.style.height = window.innerHeight + 'px';
    }

    createSnowflake() {
      return {
        x: Math.random() * window.innerWidth,
        y: -10,
        radius: this.isMobile ? Math.random() * 4 + 2 : Math.random() * 3 + 1, // Bigger on mobile: 2-6px vs 1-4px on desktop
        speed: Math.random() * 2 + 1,
        drift: (Math.random() - 0.5) * 2,
        opacity: Math.random() * 0.8 + 0.2
      };
    }

    animate() {
      if (!this.isSnowing) return;

      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

      // Get hero section bounds
      const heroSection = document.querySelector('#home');
      if (!heroSection) {
        this.animationId = requestAnimationFrame(() => this.animate());
        return;
      }
      
      const heroRect = heroSection.getBoundingClientRect();
      const heroTop = heroRect.top + window.scrollY;
      const heroBottom = heroTop + heroRect.height;

      // Update and draw snowflakes
      for (let i = this.snowflakes.length - 1; i >= 0; i--) {
        const flake = this.snowflakes[i];
        
        // Update position
        flake.y += flake.speed;
        flake.x += flake.drift;

        // Only draw if within hero section
        const screenY = flake.y - window.scrollY;
        if (screenY >= 0 && screenY <= heroRect.height && flake.x >= 0 && flake.x <= window.innerWidth) {
          this.ctx.beginPath();
          this.ctx.arc(flake.x, screenY, flake.radius, 0, Math.PI * 2);
          this.ctx.fillStyle = `rgba(255, 255, 255, ${flake.opacity})`;
          this.ctx.fill();
        }

        // Remove snowflakes that are out of bounds
        if (flake.y > heroBottom || flake.x < -50 || flake.x > window.innerWidth + 50) {
          this.snowflakes.splice(i, 1);
        }
      }

      // Add new snowflakes
      if (this.snowflakes.length < this.maxSnowflakes && Math.random() < 0.3) {
        const newFlake = this.createSnowflake();
        newFlake.y = heroTop - 10;
        this.snowflakes.push(newFlake);
      }

      this.animationId = requestAnimationFrame(() => this.animate());
    }

    startSnow() {
      console.log('Starting snow animation');
      this.isSnowing = true;
      
      // Create initial snowflakes
      for (let i = 0; i < Math.min(20, this.maxSnowflakes); i++) {
        this.snowflakes.push(this.createSnowflake());
      }
      
      this.animate();
    }

    restartSnow() {
      this.stopSnow();
      setTimeout(() => {
        this.startSnow();
      }, 100);
    }

    stopSnow() {
      this.isSnowing = false;
      this.snowflakes = [];
      if (this.animationId) {
        cancelAnimationFrame(this.animationId);
        this.animationId = null;
      }
      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
    }
  }

  document.addEventListener('DOMContentLoaded', function() {
    // Initialize snow system
    console.log('DOM loaded, initializing snow');
    const snowSystem = new SimpleSnowSystem();
    
    // Make it globally accessible for debugging
    window.snowSystem = snowSystem;

    // Countdown functionality
    const daysEl = document.getElementById('days');
    const hoursEl = document.getElementById('hours');
    const minutesEl = document.getElementById('minutes');
    const secondsEl = document.getElementById('seconds');
    const messageEl = document.getElementById('message');
    const startDateInput = document.getElementById('startDate');
    const resetBtn = document.getElementById('resetBtn');
    let countdownInterval;

    const today = new Date();
    const todayFormatted = today.toISOString().split('T')[0];
    startDateInput.value = todayFormatted;
    startDateInput.min = todayFormatted;

    function getChristmasDate() {
      const now = new Date();
      const currentYear = now.getFullYear();
      let christmasDate = new Date(currentYear, 11, 25);
      if (now > christmasDate) {
        christmasDate = new Date(currentYear + 1, 11, 25);
      }
      return christmasDate;
    }

    function updateCountdown() {
      const now = new Date();
      const christmasDate = getChristmasDate();
      const diff = christmasDate - now;
      if (diff <= 0) {
        clearInterval(countdownInterval);
        daysEl.textContent = '00';
        hoursEl.textContent = '00';
        minutesEl.textContent = '00';
        secondsEl.textContent = '00';
        messageEl.textContent = 'üéÑ Merry Christmas! üéÑ';
        return;
      }
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);
      daysEl.textContent = days.toString().padStart(2, '0');
      hoursEl.textContent = hours.toString().padStart(2, '0');
      minutesEl.textContent = minutes.toString().padStart(2, '0');
      secondsEl.textContent = seconds.toString().padStart(2, '0');
      if (days === 0 && hours < 24) {
        messageEl.textContent = 'Christmas is almost here!';
      } else if (days < 7) {
        messageEl.textContent = 'Getting very close now!';
      } else if (days < 30) {
        messageEl.textContent = 'The excitement is building!';
      } else {
        messageEl.textContent = 'Counting down to Christmas!';
      }
    }

    function startCountdown() {
      if (countdownInterval) clearInterval(countdownInterval);
      updateCountdown();
      countdownInterval = setInterval(updateCountdown, 1000);
    }

    resetBtn.addEventListener('click', function() {
      startDateInput.value = todayFormatted;
      startCountdown();
    });

    startCountdown();

    // Mobile menu toggle
    document.querySelector('.md\\:hidden').addEventListener('click', function() {
      const mobileMenu = document.getElementById('mobileMenu');
      mobileMenu.classList.toggle('hidden');
    });

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
        const mobileMenu = document.getElementById('mobileMenu');
        if (!mobileMenu.classList.contains('hidden')) {
          mobileMenu.classList.add('hidden');
        }
      });
    });
  });

  // Handle mobile browser back/forward navigation
  window.addEventListener('pageshow', (event) => {
    if (event.persisted) {
      // Page was loaded from cache, restart snow
      setTimeout(() => {
        const snowCanvas = document.getElementById('snowCanvas');
        if (snowCanvas && window.snowSystem) {
          window.snowSystem.restartSnow();
        }
      }, 100);
    }
  });
</script>

</body>
</html>
